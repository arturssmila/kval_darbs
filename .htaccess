#Options -Indexes
DirectoryIndex index.php



#atÄ¼auja visiem
#Require all granted

RewriteEngine on
  
# WWW -> NONwww
#RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
#RewriteRule ^(.*)$ http://%1/$1 [R=301,L]

# NONwww -> WWW
#RewriteCond %{HTTP_HOST} !^www\. [NC]
#RewriteCond %{HTTP_HOST} !\..*\.
#RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]

#RewriteRule ^forum$ forum/ [L]
RewriteRule ^rss$ rss/ [L]
RewriteRule ^rss/?([^/\.]+)?/?$ rss/index.php?lang=$1 [L]
RewriteRule ^admin$ admin/ [L]
RewriteRule ^admin/?([^/\.]+)?/?([^/\.]+)?/?([^/\.]+)?/?([^/\.]+)?/?([^\.])?$ admin/index.php?mode=$1&cat1=$2&cat2=$3&cat3=$4&cat4=$5 [L]


#--DONT EDIT UNDER THIS LINE--
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ index.php?variables=$1 [L]

############################
# Denied files
<Files  ~ "\.inc$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.inc~$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.inc#$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.php~$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.php#$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.sql$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.sql~$">
  Order allow,deny
  Deny from all
</Files>

<Files  ~ "\.sql#$">
  Order allow,deny
  Deny from all
</Files>
############################

# associate .js with "text/javascript" type (if not present in mime.conf)
# 
AddType text/javascript		.js
AddType application/font-woff	woff
AddType application/font-woff2	woff2


# 
# configure mod_expires
# 
# URL: http://httpd.apache.org/docs/2.2/mod/mod_expires.html
# 
<IfModule mod_expires.c>
	ExpiresActive On
	ExpiresDefault					"access plus 1 seconds"
	ExpiresByType image/x-icon			"access plus 2692000 seconds"
	ExpiresByType image/jpg				"access plus 2692000 seconds"
	ExpiresByType image/jpeg			"access plus 2692000 seconds"
	ExpiresByType image/png				"access plus 2692000 seconds"
	ExpiresByType image/gif				"access plus 2692000 seconds"
	ExpiresByType image/svg				"access plus 2692000 seconds"
	ExpiresByType image/svg+xml			"access plus 2692000 seconds"
	ExpiresByType application/x-shockwave-flash	"access plus 2692000 seconds"
	ExpiresByType text/css				"access plus 2692000 seconds"
	ExpiresByType text/javascript			"access plus 2692000 seconds"
	ExpiresByType application/x-javascript		"access plus 2692000 seconds"
	ExpiresByType text/html				"access plus 600 seconds"
	ExpiresByType application/xhtml+xml		"access plus 600 seconds"

	ExpiresByType application/font-woff		"access plus 1 month"
	ExpiresByType application/x-font-woff		"access plus 1 month"
	ExpiresByType font/woff				"access plus 1 month"
	ExpiresByType application/font-woff2		"access plus 1 month"
</IfModule>
# 
# configure mod_headers
# 
# URL: http://httpd.apache.org/docs/2.2/mod/mod_headers.html
# 
<IfModule mod_headers.c>
    <FilesMatch "\\.(ico|jpe?g|png|gif|swf|css|js)$">
        Header set Cache-Control "max-age=2692000, public"
    </FilesMatch>
    <FilesMatch "\\.(x?html?|php)$">
        Header set Cache-Control "max-age=600, private, must-revalidate"
    </FilesMatch>
    Header unset ETag
    Header unset Last-Modified
</IfModule>
####################################################

# compress text, html, javascript, css, xml:
<ifModule mod_deflate.c>
	AddOutputFilterByType DEFLATE text/plain
	AddOutputFilterByType DEFLATE text/html
	AddOutputFilterByType DEFLATE text/xml
	AddOutputFilterByType DEFLATE text/css
	AddOutputFilterByType DEFLATE application/xml
	AddOutputFilterByType DEFLATE application/xhtml+xml
	AddOutputFilterByType DEFLATE application/rss+xml
	AddOutputFilterByType DEFLATE application/javascript
	AddOutputFilterByType DEFLATE application/x-javascript
	# Or, compress certain file types by extension:
	<files *>
		SetOutputFilter DEFLATE
	</files>
</ifModule>

<FilesMatch "\.(ttf|ttc|otf|eot|woff|woff2|font.css)$">
	<IfModule mod_headers.c>
		Header add Access-Control-Allow-Origin "*"
	</IfModule>
</FilesMatch>